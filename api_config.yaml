
# LightAPI Configuration File
api:
  title: "YAML-Configured API"
  version: "1.0.0"
  description: "API generated from YAML configuration"
  
database:
  url: "sqlite:///./yaml_api.db"

server:
  host: "localhost"
  port: 8000
  debug: true

cors:
  origins:
    - "http://localhost:3000"
    - "http://localhost:8080"

models:
  User:
    table_name: "users"
    fields:
      id:
        type: "Integer"
        primary_key: true
        auto_increment: true
      username:
        type: "String"
        length: 50
        nullable: false
        unique: true
        validation:
          min_length: 3
          max_length: 50
          pattern: "^[a-zA-Z0-9_]+$"
      email:
        type: "String"
        length: 100
        nullable: false
        unique: true
        validation:
          format: "email"
      full_name:
        type: "String"
        length: 200
        nullable: true
      age:
        type: "Integer"
        nullable: true
        validation:
          min: 0
          max: 150
      is_active:
        type: "Boolean"
        default: true
      created_at:
        type: "DateTime"
        default: "now"
    endpoints:
      - method: "GET"
        path: "/users"
        description: "List all users"
        pagination: true
        filtering:
          - "username"
          - "email"
          - "is_active"
        sorting:
          - "username"
          - "created_at"
      - method: "GET"
        path: "/users/{id}"
        description: "Get user by ID"
      - method: "POST"
        path: "/users"
        description: "Create new user"
        validation: true
      - method: "PUT"
        path: "/users/{id}"
        description: "Update user"
        validation: true
      - method: "DELETE"
        path: "/users/{id}"
        description: "Delete user"

  Product:
    table_name: "products"
    fields:
      id:
        type: "Integer"
        primary_key: true
        auto_increment: true
      name:
        type: "String"
        length: 200
        nullable: false
        validation:
          min_length: 2
          max_length: 200
      description:
        type: "Text"
        nullable: true
      price:
        type: "Float"
        nullable: false
        validation:
          min: 0
          max: 1000000
      category:
        type: "String"
        length: 50
        nullable: false
        validation:
          choices:
            - "electronics"
            - "clothing"
            - "books"
            - "home"
            - "sports"
            - "toys"
      in_stock:
        type: "Boolean"
        default: true
      stock_quantity:
        type: "Integer"
        default: 0
        validation:
          min: 0
      created_at:
        type: "DateTime"
        default: "now"
      updated_at:
        type: "DateTime"
        default: "now"
        auto_update: true
    endpoints:
      - method: "GET"
        path: "/products"
        description: "List all products"
        pagination: true
        filtering:
          - "name"
          - "category"
          - "price"
          - "in_stock"
        sorting:
          - "name"
          - "price"
          - "created_at"
        search:
          fields:
            - "name"
            - "description"
      - method: "GET"
        path: "/products/{id}"
        description: "Get product by ID"
      - method: "POST"
        path: "/products"
        description: "Create new product"
        validation: true
      - method: "PUT"
        path: "/products/{id}"
        description: "Update product"
        validation: true
      - method: "DELETE"
        path: "/products/{id}"
        description: "Delete product"

  Order:
    table_name: "orders"
    fields:
      id:
        type: "Integer"
        primary_key: true
        auto_increment: true
      user_id:
        type: "Integer"
        nullable: false
        foreign_key:
          table: "users"
          field: "id"
      product_id:
        type: "Integer"
        nullable: false
        foreign_key:
          table: "products"
          field: "id"
      quantity:
        type: "Integer"
        nullable: false
        validation:
          min: 1
          max: 1000
      total_price:
        type: "Float"
        nullable: false
        validation:
          min: 0
      status:
        type: "String"
        length: 20
        default: "pending"
        validation:
          choices:
            - "pending"
            - "confirmed"
            - "shipped"
            - "delivered"
            - "cancelled"
      order_date:
        type: "DateTime"
        default: "now"
    endpoints:
      - method: "GET"
        path: "/orders"
        description: "List all orders"
        pagination: true
        filtering:
          - "user_id"
          - "product_id"
          - "status"
        sorting:
          - "order_date"
          - "total_price"
      - method: "GET"
        path: "/orders/{id}"
        description: "Get order by ID"
      - method: "POST"
        path: "/orders"
        description: "Create new order"
        validation: true
      - method: "PUT"
        path: "/orders/{id}"
        description: "Update order"
        validation: true
      - method: "DELETE"
        path: "/orders/{id}"
        description: "Delete order"

middleware:
  - name: "cors"
    enabled: true
  - name: "logging"
    enabled: true
    level: "INFO"
  - name: "rate_limiting"
    enabled: false
    requests_per_minute: 100

authentication:
  enabled: false
  type: "jwt"
  secret_key: "your-secret-key"
  token_expiry: 3600

caching:
  enabled: false
  backend: "redis"
  default_ttl: 300
